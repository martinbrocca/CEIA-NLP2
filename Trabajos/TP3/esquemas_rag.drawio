<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.3">
  <diagram name="Page-1" id="syLOJ2eCGX6cxAFnR4wt">
    <mxGraphModel dx="2066" dy="1126" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-1" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Pinecone Vectorstore" vertex="1">
          <mxGeometry height="157" width="246" x="630" y="1483" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Chain Pipeline" vertex="1">
          <mxGeometry height="977" width="331" x="20" y="920" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Core Modules" vertex="1">
          <mxGeometry height="128" width="727" x="371" y="1305" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="SimpleRAG - simple_rag.py" vertex="1">
          <mxGeometry height="1443" width="477" x="1119" y="687" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Streamlit UI - chatbot.py" vertex="1">
          <mxGeometry height="2085" width="541" x="1616" y="174" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Usuario" vertex="1">
          <mxGeometry height="104" width="367" x="1695" y="20" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Usuario ingresa pregunta" vertex="1">
          <mxGeometry height="54" width="238" x="1773" y="45" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Input del usuario" vertex="1">
          <mxGeometry height="54" width="181" x="1840" y="199" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Verificar si hay docs indexados" vertex="1">
          <mxGeometry height="78" width="260" x="1801" y="303" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Preparar historial conversacional" vertex="1">
          <mxGeometry height="78" width="260" x="1862" y="455" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Llamar RAG.query" vertex="1">
          <mxGeometry height="54" width="190" x="1897" y="583" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Mostrar respuesta" vertex="1">
          <mxGeometry height="54" width="187" x="1651" y="2180" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="query method" vertex="1">
          <mxGeometry height="54" width="160" x="1302" y="712" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Construir prompt con instrucciones" vertex="1">
          <mxGeometry height="78" width="260" x="1301" y="1049" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Obtener LLM via LLMFactory" vertex="1">
          <mxGeometry height="78" width="260" x="1301" y="1177" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-16" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Construir RAG Chain" vertex="1">
          <mxGeometry height="54" width="205" x="1154" y="816" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Ejecutar Chain" vertex="1">
          <mxGeometry height="54" width="166" x="1173" y="1947" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-18" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Retornar respuesta" vertex="1">
          <mxGeometry height="54" width="196" x="1158" y="2051" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLMFactory&#xa;crear LLM Groq" vertex="1">
          <mxGeometry height="78" width="169" x="895" y="1330" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-20" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="PineconeManager&#xa;get_retriever" vertex="1">
          <mxGeometry height="78" width="184" x="660" y="1330" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-21" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="format_docs_simple&#xa;formatear contexto" vertex="1">
          <mxGeometry height="78" width="204" x="406" y="1330" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Question" vertex="1">
          <mxGeometry height="54" width="123" x="124" y="945" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-23" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Retriever&#xa;Top-10 docs" vertex="1">
          <mxGeometry height="78" width="144" x="114" y="1049" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-24" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Format Docs&#xa;Contexto estructurado" vertex="1">
          <mxGeometry height="78" width="221" x="75" y="1177" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-25" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Prompt Template&#xa;System + History + Question" vertex="1">
          <mxGeometry height="78" width="260" x="56" y="1522" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-26" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLM Groq&#xa;Llama 3.3 70B" vertex="1">
          <mxGeometry height="78" width="161" x="105" y="1690" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-27" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Response" vertex="1">
          <mxGeometry height="54" width="125" x="123" y="1818" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-28" parent="1" style="shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=10;strokeWidth=2;whiteSpace=wrap;" value="Índice de vectores&#xa;BGE-large embeddings" vertex="1">
          <mxGeometry height="107" width="176" x="665" y="1508" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-29" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Error: Indexar primero" vertex="1">
          <mxGeometry height="54" width="221" x="1360" y="467" as="geometry" />
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-30" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-7" style="curved=1;startArrow=none;endArrow=block;exitX=0.58;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-8" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1931" y="124" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-31" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-8" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-9" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-32" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-9" style="curved=1;startArrow=none;endArrow=block;exitX=0.62;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-10" value="Si está indexado">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1992" y="418" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-33" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-9" style="curved=1;startArrow=none;endArrow=block;exitX=0.38;exitY=1;entryX=1;entryY=0.11;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-29" value="No indexado">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1869" y="418" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-34" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-11" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-35" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=1;entryY=0.37;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-13" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1992" y="687" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-36" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.66;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-14" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1431" y="791" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-37" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-15" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-38" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=1;entryY=0.35;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-19" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1431" y="1305" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-39" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.09;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-16" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1256" y="791" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-40" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.52;exitY=1;entryX=0.53;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-17" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1266" y="895" />
              <mxPoint x="1266" y="1922" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-41" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-17" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-18" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-42" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-18" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.35;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-12" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1256" y="2130" />
              <mxPoint x="1690" y="2155" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-43" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.53;exitY=0;entryX=0.2;entryY=1;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-7" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1755" y="2155" />
              <mxPoint x="1755" y="124" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-44" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.35;exitY=1;entryX=1;entryY=0.44;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-22" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1197" y="895" />
              <mxPoint x="1197" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-45" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-22" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-23" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-46" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-23" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.91;entryX=0;entryY=0.32;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-20" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="331" y="1152" />
              <mxPoint x="331" y="1305" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-47" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-20" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-28" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-48" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-28" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.41;entryX=0;entryY=0.91;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-23" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="40" y="1483" />
              <mxPoint x="40" y="1152" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-49" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-23" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-24" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-50" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-24" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0;entryY=0.24;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-21" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="186" y="1305" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-51" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-21" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0.01;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-25" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="508" y="1433" />
              <mxPoint x="186" y="1458" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-52" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-25" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1.01;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-26" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-53" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-26" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-27" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sQ4EYl6H6ZWjqUAciv2Q-54" edge="1" parent="1" source="sQ4EYl6H6ZWjqUAciv2Q-27" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.32;entryY=0;rounded=0;" target="sQ4EYl6H6ZWjqUAciv2Q-17" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="186" y="1897" />
              <mxPoint x="1197" y="1922" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
